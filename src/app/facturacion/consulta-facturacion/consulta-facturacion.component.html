<div class="col-12 mt-5">
  <div class="border border-2 p-4 rounded-4">
    <h1>Consulta de Facturaci√≥n</h1>
    <div class="d-sm-flex col-12">
      <div class="col-12 col-sm-6">
        <h3>Desde:</h3>
        <div class="d-flex justify-content-evenly">
          <div class="align-self-center">
            <form class="row row-cols-sm-auto">
              <div class="col-12">
                <div class="input-group">
                  <input
                    class="form-control"
                    placeholder="dd/mm/yyyy"
                    name="d1"
                    #c1="ngModel"
                    [(ngModel)]="model1"
                    ngbDatepicker
                    #d1="ngbDatepicker"
                  />
                  <button
                    class="btn btn-outline-secondary bi bi-calendar3"
                    (click)="d1.toggle()"
                    type="button"
                    title="calendario"
                  ></button>
                </div>
              </div>
            </form>

            <button
              class="btn btn-sm btn-outline-primary"
              (click)="model1 = today"
            >
              Seleccionar Hoy
            </button>
            <!-- 
						<pre>Model: {{ model2 | json }}</pre>
						<pre>State: {{ c2.status }}</pre> -->
          </div>
          <div class="align-self-center">
            <ngb-timepicker [(ngModel)]="time1"></ngb-timepicker>

            <!-- <pre>Selected time: {{time | json}}</pre> -->
          </div>
        </div>
      </div>

      <div class="col-12 col-sm-6">
        <h3>Hasta:</h3>
        <div class="d-flex justify-content-evenly">
          <div class="align-self-center">
            <form class="row row-cols-sm-auto">
              <div class="col-12">
                <div class="input-group">
                  <input
                    class="form-control"
                    placeholder="dd/mm/yyyy"
                    name="d2"
                    #c2="ngModel"
                    [(ngModel)]="model2"
                    ngbDatepicker
                    #d2="ngbDatepicker"
                  />
                  <button
                    class="btn btn-outline-secondary bi bi-calendar3"
                    (click)="d2.toggle()"
                    type="button"
                    title="calendario"
                  ></button>
                </div>
              </div>
            </form>

            <button
              class="btn btn-sm btn-outline-primary"
              (click)="model2 = today"
              title="hoy"
            >
              Seleccionar Hoy
            </button>
            <!-- 
						<pre>Model: {{ model2 | json }}</pre>
						<pre>State: {{ c2.status }}</pre> -->
          </div>
          <div class="align-self-center">
            <ngb-timepicker [(ngModel)]="time2"></ngb-timepicker>
            <!-- <pre>Selected time: {{time | json}}</pre> -->
          </div>
        </div>
      </div>
    </div>

    <button
      class="btn btn-lg btn-outline-primary"
      (click)="buscarFacturacion()"
    >
      Buscar
    </button>
  </div>
  <h2 class="mt-3">Resultado:</h2>
  <table
    *ngIf="respuestaFacturacion !== undefined"
    class="tftable w-100"

  >
    <tr>
      <th>Desde</th>
      <th>Hasta</th>
      <th>Cantidad de Operaciones</th>
      <th>Total</th>
      <th><i class="bi bi-pencil-fill"></i></th>
    </tr>
    <tr>
      <td>{{ respuestaFacturacion.consultaFacturacion.fechaDesde }}</td>
      <td>{{ respuestaFacturacion.consultaFacturacion.fechaHasta }}</td>
      <td>{{ respuestaFacturacion.consultaFacturacion.cantidadOperacion }}</td>
      <td>$ {{ respuestaFacturacion.consultaFacturacion.total }}</td>
      <td class="d-flex justify-content-center">
        <button class="btn btn-outline-secondary" title="descargar">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            class="bi bi-box-arrow-down"
            viewBox="0 0 16 16"
          >
            <path
              fill-rule="evenodd"
              d="M3.5 10a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 0 0 1h2A1.5 1.5 0 0 0 14 9.5v-8A1.5 1.5 0 0 0 12.5 0h-9A1.5 1.5 0 0 0 2 1.5v8A1.5 1.5 0 0 0 3.5 11h2a.5.5 0 0 0 0-1h-2z"
            />
            <path
              fill-rule="evenodd"
              d="M7.646 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V5.5a.5.5 0 0 0-1 0v8.793l-2.146-2.147a.5.5 0 0 0-.708.708l3 3z"
            />
          </svg>
        </button>
      </td>
    </tr>
  </table>
  <div *ngIf="respuestaFacturacion === undefined">
    <h2>No se ha efectuado ninguna consulta</h2>
  </div>
</div>
